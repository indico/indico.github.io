<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Indico - Monitor your Indico with Prometheus</title>
    <meta name="description" content="Indico Project Official site - Indico is a powerful event (meetings, conferences, lectures) management system developed at CERN
">
    <meta name="theme-color" content="#1A4A61">
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico">

    <meta property="og:url" content="https://getindico.io/indico/prometheus/monitoring/2023/11/10/prometheus-plugin.html">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Monitor your Indico with Prometheus">
    <meta property="og:description" content="Indico Project Official site - Indico is a powerful event (meetings, conferences, lectures) management system developed at CERN
">
    <meta property="og:image" content="/img/logos/indico_embed.png">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.1/css/all.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/github-buttons.css">
    <link rel="stylesheet" href="/assets/css/ekko-lightbox.css">

    <link rel="canonical" href="https://getindico.io/indico/prometheus/monitoring/2023/11/10/prometheus-plugin.html">
    <link href="//fonts.googleapis.com/css?family=Maven+Pro:400,500,700,900" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Source+Code Pro:200,300,400,500,600,700,900" rel="stylesheet" type="text/css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link type="application/atom+xml" rel="alternate" href="https://getindico.io/feed.xml" title="Indico Project" />
</head>


  <body>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>

    <div class="dark-overlay"></div>

    <header class="site-header">
  <nav class="navbar navbar-expand-md site-nav">
    <div class="container">
      <a class="navbar-brand" href="">
        <img class="header-logo" src="/img/logos/indico_white.svg">
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon">
            <img src="/img/hamburger-menu.svg">
        </span>
      </button>

      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="navbar-nav ml-auto">
          
          
            
          
            
              
              
            
          
            
          
            
              
              
            
          
            
              
              
            
          
            
              
              
            
          
            
              
              
            
          
            
              
              
                
                <li class="nav-item">
                  <a class="page-link" href="/">Home</a>
                </li>
              
            
          
            
              
              
                
                <li class="nav-item">
                  <a class="page-link" href="/features/">Features</a>
                </li>
              
            
          
            
              
              
                
                <li class="nav-item">
                  <a class="page-link" href="/getting-started/">Getting Started</a>
                </li>
              
            
          
            
              
              
                
                <li class="nav-item">
                  <a class="page-link" href="/blog/">Blog</a>
                </li>
              
            
          
            
              
              
                
                <li class="nav-item">
                  <a class="page-link" href="/resources/">Resources</a>
                </li>
              
            
          
            
              
              
                
                <li class="nav-item">
                  <a class="page-link" href="/roadmap/">Roadmap</a>
                </li>
              
            
          
        </ul>
      </div>
    </div>
  </nav>
</header>

    <div class="page-content">
      <section class="hero-section section hero-blog">
    <div class="hero-section-content-centered container">
        <div class="hero-spotlight-header hero-spotlight-header-page">
            <h1>News from the Indico World</h1>
        </div>
    </div>
</section>
<section class="blog-section">
    <div class="section-content container">
        <div class="row">
            <div class="col-md-16 col-16 block-center">
                <div class="blog-navigation-links blog-navigation-links-top"><a href="/blog/">&larr; Back to all posts</a></div>
<div class="blog-post blog-post-frame">
  <div class="post">
    <header class="post-header">
      <h1><a class="post-link" href="/indico/prometheus/monitoring/2023/11/10/prometheus-plugin.html">Monitor your Indico with Prometheus</a></h1>
      <p class="post-meta">by  Indico Team - Nov 10, 2023</p>
    </header>
    
    <article class="post-content">
      <p>At CERN we run the world’s <a href="https://indico.cern.ch">biggest public Indico server</a>, which hosts more than <strong>1 million events</strong> and almost <strong>4 million single attachment files</strong>.</p>

<p>Knowing your growth rate is very important when you’re providing a service, and although it’s easy to gauge its scale through database queries and some experience, it’s not that trivial to keep track of the evolution of those metrics. Having an insight into these metrics helps us to answer some of our most burning questions, such as: ‘How has our user base been growing? How are our storage needs evolving?’. Plus, we’ve always wanted to have fancy charts we can present to people who are not that familiar with the tool nor the service we are providing.</p>

<p>With that in mind, we developed <a href="https://pypi.org/project/indico-plugin-prometheus/"><code class="language-plaintext highlighter-rouge">indico_prometheus</code></a> an Indico plugin which provides a <a href="https://prometheus.io/">Prometheus</a>-compatible endpoint which can be plugged into your own Prometheus instance and then your favorite dashboard tool (e.g. <a href="https://grafana.com/">Grafana</a>). <code class="language-plaintext highlighter-rouge">indico_prometheus</code> will take a regular snapshot of your Indico database and extract the most relevant metrics, which can then be imported, processed and displayed in the way of your liking.</p>

<p><img src="/assets/2023-10-24-prometheus-plugin/dashboard.png" alt="" /></p>

<p>Thanks to this tool, we can now have a sense of our most active usage periods (notice how the weekends are visible on this chart):</p>

<p><img src="/assets/2023-10-24-prometheus-plugin/active_users.png" alt="" /></p>

<p>We can also, for instance, see that at CERN we have up to 200 events happening simultaneously, and that there is always something going on, thanks to the various timezones on which our various collaborations work:</p>

<p><img src="/assets/2023-10-24-prometheus-plugin/active_events.png" alt="" /></p>

<p>The plugin also exposes more maintenance-oriented metrics, such as how many synchronization tasks we have queued up, waiting to be sent to the full-text search engine:</p>

<p><img src="/assets/2023-10-24-prometheus-plugin/livesync_queue.png" alt="" /></p>

<p><a href="https://pypi.org/project/indico-plugin-prometheus/"><code class="language-plaintext highlighter-rouge">indico_prometheus</code></a> is of course <a href="https://github.com/indico/indico-plugins/tree/master/prometheus">open-source software</a> and can be installed like <a href="https://docs.getindico.io/en/stable/installation/plugins/">any other Indico plugin</a>.</p>

    </article>
  </div>
  
</div>
<div class="blog-navigation-links blog-navigation-links-bot ">
  
    <a class="blog-prev-post" rel="prev" href="/indico/workshop/2023/03/29/indico-workshop-3-5.html">&larr; Previous post</a>
  
  
    <a class="blog-next-post" rel="next" href="/indico/release/2023/12/05/indico-3-3-news.html">Next post &rarr;</a>
  
</div>

            </div>
        </div>
    </div>
</section>
<section class="safety-net-section section bg-blue-light">
    <div class="section-content-short container">
        <div class="row">
            <div class="col-md-8 col-sm-8 col-xm-12 block-center">
                <h2></h2>
            </div>
        </div>
    </div>
</section>
<script type="text/javascript">
    $(function() {
        $(document).delegate('*.post-content img', 'click', function(event) {
            $(this).attr('data-remote', $(this).attr('src'));
            event.preventDefault(); $(this).ekkoLightbox();
        });
    })
</script>

    </div>

    <footer class="site-footer">
  <div class="container footer-container">
    <div class="row">
      <div class="col-sm-9 col-12 block-center">
        <div class="row footer-col-wrapper">
          <div class="footer-col col-md-2 col-sm-4 col-12">
            <h3 class="footer-col-title">PRODUCT</h3>
            <ul class="footer-col-list">
              <li><a href="/">Home</a></li>
              <li><a href="/features/">Features</a></li>
              <li><a href="/getting-started/">Getting Started</a></li>
            </ul>
          </div>
          <div class="footer-col col-md-2 col-sm-4 col-12">
            <h3 class="footer-col-title">SUPPORT</h3>
            <ul class="footer-col-list">
              <li><a href="/about/">About Us</a></li>
              <li><a href="/contact/">Contact</a></li>
              <li><a href="https://docs.getindico.io/en/latest/">ReadTheDocs</a></li>
            </ul>
          </div>
          <div class="footer-col col-md-2 col-sm-4 col-12">
            <h3 class="footer-col-title">OTHER</h3>
            <ul class="footer-col-list">
              <li><a href="/blog/">Blog</a></li>
              <li><a href="https://github.com/indico/indico/releases">Releases</a></li>
              <li><a href="https://github.com/indico/indico/issues">Issues</a></li>
            </ul>
          </div>

          <div class="col-md-6 col-12 text-center footer-github-buttons">
            <div class="row">
              <div class="col-6 text-right">
                <span class="github-btn hide" data-user="indico" data-repo="indico" data-type="watch" data-count="1"></span>
              </div>
              <div class="col-6 text-left">
                <span class="github-btn hide" data-user="indico" data-repo="indico" data-type="fork" data-count="1"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="footer-copyright">
    <div class="container">
      <div class="row">
        <div class="col-md-10 col-12">Copyright &copy; 2014–2026 CERN. All rights reserved.</div>
        <div class="col-md-2 col-12">
          <span class="footer-icons">
            <a class="no-decoration" href="https://fosstodon.org/@getindico" target="_blank"><i class="fa fa-mastodon fa-lg"></i></a>
            <a class="no-decoration" href="https://twitter.com/getindico" target="_blank"><i class="fa fa-twitter fa-lg"></i></a>
            <a class="no-decoration" href="https://github.com/indico/indico" target="_blank"><i class="fa fa-github fa-lg"></i></a>
          </span>
        </div>
      </div>
    </div>
  </div>
</footer>


    <script type="text/javascript" src="/js/github-buttons.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/ekko-lightbox.min.js"></script>
    
    
    <script type="text/javascript">
      $(document).ready(function(){
        $('.navbar-toggle').on('click', function(){
          if($(this).hasClass('collapsed')) {
            $('.dark-overlay').css('display','initial');
          }
          else {
            $('.dark-overlay').css('display','none');
          }
        });

        $('.dark-overlay').on('click',function(){
          $('.collapse').collapse('hide');
          $('.navbar-toggle').addClass('collapsed');
          $('.dark-overlay').css('display','none');
        })
      });
    </script>

    <!-- Piwik -->
    <script type="text/javascript">
        var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.web.cern.ch/" : "http://piwik.web.cern.ch/");
        document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        try {
            var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 144);
            piwikTracker.trackPageView();
            piwikTracker.enableLinkTracking();
        } catch( err ) {}
    </script>
    <noscript>
        <p><img src="http://piwik.web.cern.ch/piwik.php?idsite=144" style="border:0" alt="" /></p>
    </noscript>
    <!-- End Piwik Tracking Code -->
  </body>
</html>
